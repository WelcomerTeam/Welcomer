// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: science_guild_events_query.sql

package database

import (
	"context"
	"database/sql"
	"time"

	"github.com/gofrs/uuid"
	"github.com/jackc/pgtype"
)

type CreateManyScienceGuildEventsParams struct {
	GuildEventUuid uuid.UUID     `json:"guild_event_uuid"`
	GuildID        int64         `json:"guild_id"`
	UserID         sql.NullInt64 `json:"user_id"`
	CreatedAt      time.Time     `json:"created_at"`
	EventType      int32         `json:"event_type"`
	Data           pgtype.JSON   `json:"data"`
}

const CreateScienceGuildEvent = `-- name: CreateScienceGuildEvent :one
INSERT INTO science_guild_events (guild_event_uuid, guild_id, user_id, created_at, event_type, data)
    VALUES (uuid_generate_v7(), $1, $2, now(), $3, $4)
RETURNING
    guild_event_uuid, guild_id, user_id, created_at, event_type, data
`

type CreateScienceGuildEventParams struct {
	GuildID   int64         `json:"guild_id"`
	UserID    sql.NullInt64 `json:"user_id"`
	EventType int32         `json:"event_type"`
	Data      pgtype.JSON   `json:"data"`
}

func (q *Queries) CreateScienceGuildEvent(ctx context.Context, arg CreateScienceGuildEventParams) (*ScienceGuildEvents, error) {
	row := q.db.QueryRow(ctx, CreateScienceGuildEvent,
		arg.GuildID,
		arg.UserID,
		arg.EventType,
		arg.Data,
	)
	var i ScienceGuildEvents
	err := row.Scan(
		&i.GuildEventUuid,
		&i.GuildID,
		&i.UserID,
		&i.CreatedAt,
		&i.EventType,
		&i.Data,
	)
	return &i, err
}

const GetScienceGuildEvent = `-- name: GetScienceGuildEvent :one
SELECT
    guild_event_uuid, guild_id, user_id, created_at, event_type, data
FROM
    science_guild_events
WHERE
    guild_event_uuid = $1
`

func (q *Queries) GetScienceGuildEvent(ctx context.Context, guildEventUuid uuid.UUID) (*ScienceGuildEvents, error) {
	row := q.db.QueryRow(ctx, GetScienceGuildEvent, guildEventUuid)
	var i ScienceGuildEvents
	err := row.Scan(
		&i.GuildEventUuid,
		&i.GuildID,
		&i.UserID,
		&i.CreatedAt,
		&i.EventType,
		&i.Data,
	)
	return &i, err
}
